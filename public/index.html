<head>
  <script src="https://www.gstatic.com/firebasejs/4.1.1/firebase.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyAS-Wz1Q_dvdeVijr9jqjrGKqBXo07jRCA",
      authDomain: "fir-test-36f80.firebaseapp.com",
      databaseURL: "https://fir-test-36f80.firebaseio.com",
      projectId: "fir-test-36f80",
      storageBucket: "fir-test-36f80.appspot.com",
      messagingSenderId: "509271398854"
    };
    firebase.initializeApp(config);
  </script>
</head>
<body>
  <div id="message">
    <h1>Firebaseてすと</h1>
    <p>文字を入れると更新されます</p>
    <ul>
      <li id="chatText"></li>
      <li><input type="text" name="" id="my_text"></li>
      <li><a onclick="changeData()">更新</a></li>
    </ul>
  </div>


  <script>
    var db = firebase.database();
    var myChatAll = db.ref("/my/chat/all");

    function changeData(){
      var text = document.getElementById("my_text").value;
      myChatAll.set({title:"example", text:text});
    }

    myChatAll.on("value", function(snapshot) {
      document.getElementById("chatText").innerText = snapshot.val().text;
    });
  </script>
</body>
